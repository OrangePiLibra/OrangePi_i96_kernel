#include <linux/kernel.h>
#include <linux/module.h>
#include <linux/platform_device.h>
#include <linux/delay.h>
#include <linux/jiffies.h>
#include <linux/gpio.h>

#include <plat/devices.h>
#include <plat/rda_debug.h>
#include <mach/board.h>

#include "rda_gouda.h"
#include "rda_panel.h"
#ifdef CONFIG_PM
#include <linux/regulator/consumer.h>
#include <mach/regulator.h>
#endif

#define NT35310_MCU_CHIP_ID			0x3AB6

/* wngl, for FPGA */
#define NT35310_MCU_TIMING {						     \
	{.tas       =  7,                                            \
		.tah        =  7,                                            \
		.pwl        =  16,                                           \
		.pwh        =  16}}                                          \

#define NT35310_MCU_CONFIG {                                             \
	{.cs             =   GOUDA_LCD_CS_0,                         \
		.output_fmt      =   GOUDA_LCD_OUTPUT_FORMAT_16_bit_RGB565,   \
		.cs0_polarity    =   false,                                  \
		.cs1_polarity    =   false,                                  \
		.rs_polarity     =   false,                                  \
		.wr_polarity     =   false,                                  \
		.rd_polarity     =   false,				     \
		.te_en           =   1,				     	     \
		.tecon2		 = 0x100}}

static struct rda_lcd_info nt35310_mcu_info;
static int nt35310_mcu_init_gpio(void)
{
	gpio_request(GPIO_LCD_RESET, "lcd reset");

	gpio_direction_output(GPIO_LCD_RESET, 1);
	gpio_set_value(GPIO_LCD_RESET, 1);
	mdelay(10);
	gpio_set_value(GPIO_LCD_RESET, 0);
	mdelay(60);
	gpio_set_value(GPIO_LCD_RESET, 1);
	mdelay(60);
	return 0;
}

static int nt35310_mcu_readid(void)
{
	u8 data[6];
	struct regulator *lcd_reg;
	struct gouda_lcd *lcd = (void *)&(nt35310_mcu_info.lcd);

#ifdef CONFIG_PM
	lcd_reg = regulator_get(NULL, LDO_LCD);
	if (IS_ERR(lcd_reg)) {
		printk(KERN_ERR "rda-fb not find lcd regulator devices\n");
		return 0;
	}

	if (regulator_enable(lcd_reg) < 0) {
		printk(KERN_ERR "rda-fb lcd could not be enable !\n");
		return 0;
	}
#endif
	rda_gouda_pre_enable_lcd(lcd, 1);
	nt35310_mcu_init_gpio();

	/* adjust timming */
	lcd->lcd_timing.mcu.pwl = 32;
	lcd->lcd_timing.mcu.pwh = 32;
	rda_gouda_configure_timing(lcd);

	LCD_MCU_CMD(0xd4);

	LCD_MCU_READ(&data[0]);
	LCD_MCU_READ(&data[1]);
	LCD_MCU_READ(&data[2]);
	LCD_MCU_READ(&data[3]);

	printk(KERN_INFO "rda_fb: nt35310_mcu ID:"
			"%02x %02x %02x %02x \n", data[0], data[1], data[2], data[3]);

	/* adjust timming */
	lcd->lcd_timing.mcu.pwl = 16;
	lcd->lcd_timing.mcu.pwh = 16;
	rda_gouda_configure_timing(lcd);
#ifdef CONFIG_PM
	if (regulator_disable(lcd_reg) < 0) {
		printk(KERN_ERR "rda-fb lcd could not disabled!\n");
	}
#endif
	if (data[2] == 0x53 && data[3] == 0x10)
		return 1;
	else
		return 0;
}

static int nt35310_mcu_open(void)
{
	uint32_t i = 0;
#ifdef NT35310_MCU_HSD_INIT_CODE
	//Enter CMD2
	LCD_MCU_CMD(0xED);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0xFE);

	//EnterManufactureMode
	LCD_MCU_CMD(0xEE);
	LCD_MCU_DATA(0xDE);
	LCD_MCU_DATA(0x21);
	mdelay(10);

	//Sleep Out
	LCD_MCU_CMD(0x11);
	mdelay(120);

	LCD_MCU_CMD(0xC0);
	LCD_MCU_DATA(0x5F);
	LCD_MCU_DATA(0x5F);
	LCD_MCU_DATA(0x10);
	LCD_MCU_DATA(0x10);
	//Set VCOM
	LCD_MCU_CMD(0xC4);
	LCD_MCU_DATA(0x85); //0x70 Or 0x95

	//Enter Page1
	LCD_MCU_CMD(0xBF);
	LCD_MCU_DATA(0xAA);

	//SmartColorManufactureSetting
	LCD_MCU_CMD(0xB0);
	LCD_MCU_DATA(0x0D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x0D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x11);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x19);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x21);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x3D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5D);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB1);
	LCD_MCU_DATA(0x80);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8B);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x96);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB2);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x02);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x03);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB4);
	LCD_MCU_DATA(0x8B);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x96);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA1);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB5);
	LCD_MCU_DATA(0x02);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x03);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x04);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB6);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB7);
	LCD_MCU_DATA(0x3E);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5E);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x9E);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x74);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xAC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xDC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x70);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xB9);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xEC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xDC);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xBA);
	LCD_MCU_DATA(0x24);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	//CABCManufactureSetting
	LCD_MCU_CMD(0xC1);
	LCD_MCU_DATA(0x20);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xFF);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xC2);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x04);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xC3);
	LCD_MCU_DATA(0x3C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x3A);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x39);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x37);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x3C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x36);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x32);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x29);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x26);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x24);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x24);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x23);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x3C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x36);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x32);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x29);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x26);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x24);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x24);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x23);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xC4);
	LCD_MCU_DATA(0x62);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x84);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF0);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x18);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x18);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x50);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x0C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x17);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x95);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xE6);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xC5);
	LCD_MCU_DATA(0x32);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x44);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x65);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x76);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x88);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xC6);
	LCD_MCU_DATA(0x20);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x17);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);

	//CABCTestModeSetting
	LCD_MCU_CMD(0xC7);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xC8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	//OSCManufactureSetting
	LCD_MCU_CMD(0xC9);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE0);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x10);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x49);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5A);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x6F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x87);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x95);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA1);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xAD);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xB8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC0);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCF);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD7);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE2);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x10);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x49);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5A);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x6F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x87);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x95);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA1);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xAD);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xB8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC0);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCF);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD7);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE4);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x10);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x49);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5A);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x6F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x87);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x95);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA1);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xAD);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xB8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC0);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCF);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD7);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE1);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x10);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x49);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5A);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x6F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x87);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x95);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA1);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xAD);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xB8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC0);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCF);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD7);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE3);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x10);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x49);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5A);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x6F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x87);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x95);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA1);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xAD);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xB8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC0);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCF);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD7);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE5);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x10);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x49);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5A);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x6F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x87);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x95);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA1);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xAD);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xB8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC0);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCF);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD7);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE6);
	LCD_MCU_DATA(0x21);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x55);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x76);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x78);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x98);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x66);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x44);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE7);
	LCD_MCU_DATA(0x21);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x55);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x76);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x78);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x98);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x66);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x44);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE8);
	LCD_MCU_DATA(0x21);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x55);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x76);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x78);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x98);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x66);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x44);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);

	//ManufactureSetting
	LCD_MCU_CMD(0xE9);
	LCD_MCU_DATA(0xAA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	//Enter Page0
	LCD_MCU_CMD(0x00);
	LCD_MCU_DATA(0xAA);

	//ManufactureTest Setting
	LCD_MCU_CMD(0xCF);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xF0);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x50);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xF1);
	LCD_MCU_DATA(0x01);

	LCD_MCU_CMD(0xEE);
	LCD_MCU_DATA(0xDE);
	LCD_MCU_DATA(0x21);

	LCD_MCU_CMD(0xF3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5d);

	//Gate Setting
	LCD_MCU_CMD(0xF9);
	LCD_MCU_DATA(0x06);
	LCD_MCU_DATA(0x10);
	LCD_MCU_DATA(0x29);
	LCD_MCU_DATA(0x00);

	//Code Lock
	LCD_MCU_CMD(0xDF);
	LCD_MCU_DATA(0x10);
	mdelay(100);

	LCD_MCU_CMD(0x36);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0x3A);
	LCD_MCU_DATA(0x55);

	//TE On
	LCD_MCU_CMD(0x35);
	LCD_MCU_DATA(0x00);

	//Display On
	LCD_MCU_CMD(0x29);
	mdelay(50);

	LCD_MCU_CMD(0x2c);
#else
	/*#############//GAMMA2.2 INIT CODE################# */
	LCD_MCU_CMD(0xED);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0xFE);

	LCD_MCU_CMD(0xEE);
	LCD_MCU_DATA(0xDE);
	LCD_MCU_DATA(0x21);

	LCD_MCU_CMD(0xB3);
	LCD_MCU_DATA(0x20);

	LCD_MCU_CMD(0xF1);
	LCD_MCU_DATA(0x01);

	LCD_MCU_CMD(0xDF);
	LCD_MCU_DATA(0x10);

	LCD_MCU_CMD(0x51);
	LCD_MCU_DATA(0xFF);

	LCD_MCU_CMD(0x53);
	LCD_MCU_DATA(0x2C);

	LCD_MCU_CMD(0x55);
	LCD_MCU_DATA(0x02);

	LCD_MCU_CMD(0xC0);
	LCD_MCU_DATA(0X44);
	LCD_MCU_DATA(0X44);
	LCD_MCU_DATA(0X10);
	LCD_MCU_DATA(0X10);

	LCD_MCU_CMD(0xC4);
	LCD_MCU_DATA(0X40);

	LCD_MCU_CMD(0xBF);
	LCD_MCU_DATA(0xAA);

	LCD_MCU_CMD(0xB0);
	LCD_MCU_DATA(0x0D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x0D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x11);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x19);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x21);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x3D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5D);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB1);
	LCD_MCU_DATA(0x80);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8B);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x96);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB2);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x02);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x03);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB4);
	LCD_MCU_DATA(0x8B);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x96);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA1);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB5);
	LCD_MCU_DATA(0x02);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x03);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x04);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB6);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xC2);
	LCD_MCU_DATA(0x0A);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x04);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xC7);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xC9);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xB7);
	LCD_MCU_DATA(0x3F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x5E);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x9E);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x74);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xAC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xDC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x70);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xB9);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xEC);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xDC);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE0);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x0F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x67);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x7C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC5);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xDA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xE3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE2);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x0F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x67);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x7C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC5);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xDA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xE3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE4);
	LCD_MCU_DATA(0x01);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x05);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x0F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x67);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x7C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8C);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC5);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xDA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xE3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE1);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x04);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x0F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x66);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x7D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8B);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC5);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD9);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xE3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x04);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x0F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x66);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x7D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8B);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC5);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD9);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xE3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE5);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x04);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x0F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x2F);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x66);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x7D);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x8B);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xA8);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xC5);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xCB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD4);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xD9);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xE3);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xF3);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE6);
	LCD_MCU_DATA(0x21);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x55);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x76);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x78);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x98);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x66);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x44);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE7);
	LCD_MCU_DATA(0x21);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x55);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x76);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x78);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x98);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x66);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x44);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE8);
	LCD_MCU_DATA(0x21);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x55);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x77);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x76);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x78);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x98);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xBB);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x99);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x66);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x45);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x44);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x34);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE9);
	LCD_MCU_DATA(0xAA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0xE9);
	LCD_MCU_DATA(0xAA);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0x00);
	LCD_MCU_CMD(0x00);
	LCD_MCU_DATA(0xAA);

	LCD_MCU_CMD(0xC6);
	LCD_MCU_DATA(0x00);
	LCD_MCU_DATA(0xE2);
	LCD_MCU_DATA(0xE2);
	LCD_MCU_DATA(0xE2);

	LCD_MCU_CMD(0xF2);
	LCD_MCU_DATA(0xF1);
	LCD_MCU_DATA(0x54);
	LCD_MCU_DATA(0xA5);
	LCD_MCU_DATA(0x04);
	LCD_MCU_DATA(0x1E);
	LCD_MCU_DATA(0x44);
	LCD_MCU_DATA(0x90);
	LCD_MCU_DATA(0x02);
	LCD_MCU_DATA(0x2C);
	LCD_MCU_DATA(0x2C);
	LCD_MCU_DATA(0x32);
	LCD_MCU_DATA(0x4A);

	LCD_MCU_CMD(0xF3);
	LCD_MCU_DATA(0x0C);

	LCD_MCU_CMD(0x11);

	mdelay(20);

	LCD_MCU_CMD(0x29);

	LCD_MCU_CMD(0x35);
	LCD_MCU_DATA(0x00);

	LCD_MCU_CMD(0x3a);
	LCD_MCU_DATA(0x05);

	LCD_MCU_CMD(0x2C);
#endif
	//for the white light of the boot.
	for (i = 0; i < 320 * 480; i++) {
		LCD_MCU_DATA(0x0);
	}
	mdelay(10);

	return 0;
}

static int nt35310_mcu_display_off(void)
{
	return 0;
}

static int nt35310_mcu_display_on(void)
{
	return 0;
}

static int nt35310_mcu_set_active_win(struct gouda_rect *r)
{
	return 0;
}

static int nt35310_mcu_set_rotation(int rotate)
{
	return 0;
}

static int nt35310_mcu_sleep(void)
{
	gpio_set_value(GPIO_LCD_RESET, 0);
//	mdelay(60);
	return 0;
}

static int nt35310_mcu_wakeup(void)
{
	gpio_set_value(GPIO_LCD_RESET, 1);
	mdelay(10);
	gpio_set_value(GPIO_LCD_RESET, 0);
	mdelay(60);
	gpio_set_value(GPIO_LCD_RESET, 1);
	mdelay(60);

	nt35310_mcu_open();

	return 0;
}

static int nt35310_mcu_close(void)
{
	return 0;
}

static struct rda_lcd_info nt35310_mcu_info = {
	.ops = {
		.s_init_gpio = nt35310_mcu_init_gpio,
		.s_open = nt35310_mcu_open,
		.s_readid = nt35310_mcu_readid,
		.s_active_win = nt35310_mcu_set_active_win,
		.s_rotation = nt35310_mcu_set_rotation,
		.s_sleep = nt35310_mcu_sleep,
		.s_wakeup = nt35310_mcu_wakeup,
		.s_display_on = nt35310_mcu_display_on,
		.s_display_off = nt35310_mcu_display_off,
		.s_close = nt35310_mcu_close},
	.lcd = {
		.width = HVGA_LCDD_DISP_X,
		.height = HVGA_LCDD_DISP_Y,
		.lcd_interface = GOUDA_LCD_IF_DBI,
		.lcd_timing = NT35310_MCU_TIMING,
		.lcd_cfg = NT35310_MCU_CONFIG},
	.name = NT35310_MCU_PANEL_NAME,
};

/*--------------------Platform Device Probe-------------------------*/

static int rda_fb_panel_nt35310_mcu_probe(struct platform_device *pdev)
{
	rda_fb_register_panel(&nt35310_mcu_info);

	dev_info(&pdev->dev, "rda panel nt35310_mcu registered\n");

	return 0;
}

static int rda_fb_panel_nt35310_mcu_remove(struct platform_device *pdev)
{
	return 0;
}

static struct platform_driver rda_fb_panel_nt35310_mcu_driver = {
	.probe = rda_fb_panel_nt35310_mcu_probe,
	.remove = rda_fb_panel_nt35310_mcu_remove,
	.driver = {
		.name = NT35310_MCU_PANEL_NAME}
};

static struct rda_panel_driver nt35310_mcu_panel_driver = {
	.panel_type = GOUDA_LCD_IF_DBI,
	.lcd_driver_info = &nt35310_mcu_info,
	.pltaform_panel_driver = &rda_fb_panel_nt35310_mcu_driver,
};
